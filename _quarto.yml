# Shared Quarto Configuration Template
# This file contains shared settings that can be used by all use cases.
# Individual use cases should copy this file and customize as needed.

project:
  type: website
  output-dir: _site

website:
  title: "Astro Research"
  navbar:
    left:
      - text: "Home"
        href: index.qmd
      - text: "Reports"
        href: reports.qmd
      - text: "Developer Guide"
        href: README.md
    right:
      - icon: github
        href: https://github.com/astro-fusion/astro_research-white-paper
        aria-label: GitHub

# Common format settings for all outputs
format:
  # Interactive HTML format for web publication
  html:
    theme:
      light: cosmo
      dark: darkly
    toc: true
    toc-depth: 3
    toc-title: "Table of Contents"
    number-sections: true
    number-depth: 3
    code-fold: true
    code-tools:
      source: true
      toggle: true
      caption: "Show code"
    fig-cap-location: top
    tbl-cap-location: top
    comments:
      hypothesis: true
    embed-resources: true
    self-contained: true
    page-layout: article
    grid:
      sidebar-width: 250px
      body-width: 900px
      margin-width: 250px
    fontsize: "1.1em"
    linestretch: 1.6
    link-external-newwindow: true
    link-external-filter: '^(?:http:|https:)\/\/www\.astro-fusion\.com\/custom'
    citations-hover: true
    footnotes-hover: true
    anchor-sections: true
    smooth-scroll: true
    css: styles/custom.css
    # Interactive features
    include-after-body:
      - assets/visualizations/interactive-components.html

  # PDF format for print publication
  pdf:
    documentclass: scrbook
    classoption:
      - oneside
      - openany
    geometry:
      - top=30mm
      - left=25mm
      - right=25mm
      - bottom=30mm
      - heightrounded
    fontfamily: libertine
    fontsize: 11pt
    linestretch: 1.2
    number-sections: true
    colorlinks: true
    linkcolor: blue
    urlcolor: blue
    citecolor: green
    keep-tex: true
    fig-cap-location: top
    tbl-cap-location: top
    fig-pos: 'H'
    tbl-pos: 'H'
    pdf-engine: lualatex
    pdf-engine-opts: ["-shell-escape"]
    include-in-header: styles/pdf-header.tex
    include-before-body: styles/pdf-before-body.tex

  # DOCX format for Microsoft Word compatibility
  docx:
    reference-doc: styles/reference.docx
    number-sections: true
    fig-cap-location: top
    tbl-cap-location: top
    toc: true
    toc-depth: 3
    highlight-style: github

  # EPUB format for e-readers
  epub:
    # cover-image: images/cover.png
    number-sections: true
    fig-cap-location: top
    tbl-cap-location: top

  # JATS format for academic publishing
  jats: default

# Cross-referencing configuration
crossref:
  chapters: true
  fig-title: "Figure"
  tbl-title: "Table"
  lst-title: "Listing"
  eq-title: "Equation"
  title-delim: "colon"
  fig-prefix: "Figure"
  tbl-prefix: "Table"
  lst-prefix: "Listing"
  eq-prefix: "Equation"
  sec-prefix: "Section"
  ref-hyperlink: true
  labels: arabic

# Execution settings
execute:
  freeze: true
  cache: true
  echo: false
  warning: false
  error: false
  eval: true
  output: true

# Jupyter configuration
jupyter: python3

# Bibliography and citations (shared)
bibliography:
  - "references.bib"

csl: styles/apa.csl

# Language and localization
lang: en-US

# Metadata for different formats (shared)
metadata-files:
  - styles/html-metadata.yml
  - styles/pdf-metadata.yml

# Custom filters and extensions (shared)
filters:
  - styles/conditional-content.lua
  - styles/format-specific.lua

# Environment variables
environment:
  QUARTO_PROJECT_DIR: "."
  PYTHONPATH: "src"

# Global PDF submission profiles (journal-style presets)
profiles:
  generic_journal:
    format:
      pdf:
        documentclass: article
        geometry:
          - top=30mm
          - left=25mm
          - right=25mm
          - bottom=30mm
        fontsize: 11pt
        linestretch: 1.2

  ieee_like:
    format:
      pdf:
        documentclass: article
        classoption:
          - twocolumn
        geometry:
          - top=20mm
          - left=18mm
          - right=18mm
          - bottom=22mm
        fontsize: 9pt
        linestretch: 1.1

  springer_like:
    format:
      pdf:
        documentclass: article
        geometry:
          - top=25mm
          - left=20mm
          - right=20mm
          - bottom=25mm
        fontsize: 10pt
        linestretch: 1.15

  elsevier_like:
    format:
      pdf:
        documentclass: article
        geometry:
          - top=25mm
          - left=20mm
          - right=20mm
          - bottom=25mm
        fontsize: 10pt
        linestretch: 1.1

  nature_like:
    format:
      pdf:
        documentclass: article
        geometry:
          - top=28mm
          - left=22mm
          - right=22mm
          - bottom=28mm
        fontsize: 10pt
        linestretch: 1.2
